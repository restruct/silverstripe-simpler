import{createApp as e,reactive as t}from"vue";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function l(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a=null===(o=window.bootstrap)||void 0===o?void 0:o.Modal,s={show:!1,title:"...",bodyHtml:"...",closeBtn:!1,closeTxt:"Close",saveBtn:!1,saveTxt:"Save",static:!1,onSave:null,size:null};window.simpler.modalInstance=null,window.simpler.modal=t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},s)),document.addEventListener("DOMContentLoaded",function(){var t=document.createElement("div");t.id="simplerAdminModalContainer",document.body.appendChild(t),e({data:function(){return window.simpler.modal},template:'\n            <div class="modal fade" id="simplerAdminModal"\n                 tabindex="-1" aria-labelledby="simpleAdminModalTitle" aria-hidden="true">\n                <div class="modal-dialog" :class="dialogClass" :style="dialogStyle">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title" id="simpleAdminModalTitle">{{ title }}</h5>\n                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                        </div>\n                        <div class="modal-body" id="simpleAdminModalBody" v-html="bodyHtml"></div>\n                        <div class="modal-footer">\n                            <button v-show="closeBtn" type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">{{ closeTxt }}</button>\n                            <button v-show="saveBtn" type="button" class="btn btn-primary font-icon-tick" id="simpleAdminModalPrimaryBtn" @click="handleSave">{{ saveTxt }}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ',computed:{dialogClass:function(){return this.size&&["sm","lg","xl"].includes(this.size)?"modal-"+this.size:""},dialogStyle:function(){return this.size&&!["sm","lg","xl"].includes(this.size)?{maxWidth:this.size}:{}}},methods:{handleSave:function(){window.simpler.modal.onSave&&window.simpler.modal.onSave()}},watch:{show:function(e){if(e){var t=document.getElementById("simplerAdminModal");window.simpler.modalInstance=new a(t,{backdrop:!this.static||"static",keyboard:!this.static}),window.simpler.modalInstance.show()}else window.simpler.modalInstance&&window.simpler.modalInstance.hide()}},mounted:function(){var e=document.getElementById("simplerAdminModal");e.addEventListener("show.bs.modal",function(){window.simpler.modal.show=!0}),e.addEventListener("hide.bs.modal",function(){window.simpler.modal.show=!1}),e.addEventListener("hidden.bs.modal",function(){Object.assign(window.simpler.modal,s),window.simpler.modalInstance&&(window.simpler.modalInstance.dispose(),window.simpler.modalInstance=null)})}}).mount("#simplerAdminModalContainer"),document.addEventListener("click",function(e){var t=e.target.closest("[data-simpler-modal]");if(t){e.preventDefault();try{var n=JSON.parse(t.dataset.simplerModal);Object.assign(window.simpler.modal,n),window.simpler.modal.show=!0}catch(e){console.error("Invalid simpler-modal config:",e)}}})});